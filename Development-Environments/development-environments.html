<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>개발 환경 설정</title>
<link rel="stylesheet" href="..//my-asciidoctor.css">
<link rel="stylesheet" href="..//coderay-asciidoctor.css">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-71804757-1', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body class="article">
<div id="header">
<h1>개발 환경 설정</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>이 장에서는 <code>Windows 7</code> (64비트 버전)에 클로저 개발 환경을 설치하는 예를 보여준다. 다른
OS의 경우에는 이 장의 내용을 참고해서 약간 변용하면 설치가 가능할 것이다.</p>
</div>
<div id="environment-variables" class="sidebarblock">
<div class="content">
<div class="title">Windows 환경 변수 설정하기</div>
<div class="paragraph">
<p>Windows에서 환경 변수를 설정할 때는 다음의 경로로 찾아 들어가, 해당 환경 변수를 설정해 주면
된다.</p>
</div>
<div class="paragraph">
<p>제어판 &#8594; 시스템 및 보안 &#8594; 시스템 &#8594; 고급 시스템 설정 &#8594; 고급 &#8594; 환경변수</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_java_jdk의_설치">1. Java JDK의 설치</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>클로저는 JVM(Java Virtual Machine) 상에서 실행되는 언어이므로, 먼저 JDK(Java
Development Kit)를 설치해야 한다. 클로저는 JDK 1.6.0 이상의 버전에서 돌아가지만,
특별한 요구 사항이 없다면 최신 버전의 JDK를 설치하도록 한다.</p>
</li>
<li>
<p><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" class="bare">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a>를 방문해 'JDK
DOWNLOAD' 버튼을 클릭한 후, 자신의 OS에 맞는 최신 버전의 JDK을 내려 받는다. 여기에서는
<code>Windows 7</code> (64비트 버전) 상에서 JDK를 설치하는 예를 보이겠다. 따라서 Java SE Development
Kit 중에서 Windows x64 버전의 jdk-8u66-windows-x64.exe 파일을 다운로드 받는다.</p>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
JRE(Java Runtime Environment)가 아니라 JDK를 다운로드 받아야 한다.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>내려 받은 파일을 실행해, JDK 설치를 시작한다. 기본 설정 값대로 진행해 설치를 마친다.</p>
</li>
<li>
<p>다음과 같이 실행해 메시지가 출력되면 Java SE JDK 버전 설치에 성공한 것이다.</p>
<div class="listingblock">
<div class="content">
<pre>C:\&gt; java -version
java version "1.8.0_66"
Java(TM) SE Runtime Environment (build 1.7.0_07-b18)
Java HotSpot(TM) 64-Bit Server VM (build 25.66-b18, mixed mode)</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_wget_설치">2. wget 설치</h2>
<div class="sectionbody">
<div class="paragraph">
<p>클로저 프로젝트 관리 도구인 Leiningen이 라이브러리를 내려받을 때 wget 프로그램을 필요로
하므로, 이 프로그램을 미리 설치해 두어야 한다.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://eternallybored.org/misc/wget" class="bare">https://eternallybored.org/misc/wget</a>을 방문해, 64비트 버전인 wget-1.17-win64.zip
파일을 다운로드 받는다. 자신의 Windows가 32비트 버전이면 wget-1.17-win32.zip 파일을
다운로드 받는다.</p>
</li>
<li>
<p>압축을 푼 후에, wget.exe 파일 을자신이 원하는 폴더로 복사한다. 여기에서는
<code>C:\util\Gnuwin32\</code> 폴더에 복사하는 것으로 한다.</p>
</li>
<li>
<p>환경 변수 PATH에 wget.exe 파일이 위치한 폴더의 경로를 추가한다:
(<a href="#environment-variables">Windows 환경 변수 설정하기 참고</a>)<br>
[시스템 변수]에서 PATH 변수 선택 후, [편집] 누른 후에, [변수 값]에 <code>C:\util\Gnuwin32\bin</code>
경로를 추가한다.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_leiningen_설치">3. Leiningen 설치</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Leiningen(라이닝언)은 클로저 프로젝트 관리를 위한 기본 도구이다.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>다음과 같이 wget을 이용해 leiningen을 다운로드한다. 여기서는 leiningen을 C:\leiningen\
폴더 아래에 설치하는 것으로 한다.</p>
<div class="listingblock">
<div class="content">
<pre>C:\leiningen&gt; wget --no-check-certificate https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein.bat</pre>
</div>
</div>
</li>
<li>
<p>환경 변수 PATH에, lein.bat을 포함하고 있는 폴더의 경로(C:\leiningen\bin)를 추가한다.<br>
[시스템 변수]에서 PATH 변수 선택 후, [편집] 누른 후에, [변수 값]에 C:\leiningen\bin 경로를
추가한다.</p>
</li>
<li>
<p>환경 변수 LEIN_HOME을 새로 만들고, lein.bat을 포함하고 있는 폴더의 경로를 입력한다.<br>
[시스템 변수 &#8594; 새로 만들기] 선택 후, [변수 이름] 란에 LEIN_HOME으로, [변수 값] 란에는
C:\leiningen\bin을 입력한다.</p>
</li>
<li>
<p>이후 아무 폴더에나 들어가서 명령창을 연 후, 다음과 같이 입력해 leiningen 본체를 설치한다.</p>
<div class="listingblock">
<div class="content">
<pre>&gt; lein self-install</pre>
</div>
</div>
<div class="paragraph">
<p>위 명령이 실행된 후에, LEIN_HOME에 지정되어 있는 폴더에 self-installs 폴더가 생성되고 그 아래에 leiningen-2.5.3-SNAPSHOT-standalone.jar가 설치된 것을 확인할 수 있다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>C:\leiningen\bin&gt; tree /a /f
C:.
|   lein.bat
\---self-installs
        leiningen-2.5.3-SNAPSHOT-standalone.jar</pre>
</div>
</div>
<div class="paragraph">
<p>다음과 같이 입력해 메시지가 출력되면, Leiningen이 제대로 설지된 것이다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; lein version
Leiningen 2.5.3 on Java 1.8.0_66 Java HotSpot(TM) 64-bit Server VM</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ide_설치">4. IDE 설치</h2>
<div class="sectionbody">
<div class="paragraph">
<p>클로저 프로그래밍을 위한 IDE(Intergrated Development Environment)는 여러가지가 있는데,
초보자가 사용하기 편한 순서로 소개하겠다.</p>
</div>
<div class="sect2">
<h3 id="_light_table">4.1. Light Table</h3>
<div class="paragraph">
<p>Light Table은 클로저스크립트로 작성된 에디터로, 비교적 최근에 등장해 에디터로서의 성숙도는
부족하지만, 클로저 프로그래밍을 쉽게 해줄 수 있는 환경을 제공한다.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="http://lighttable.com" class="bare">http://lighttable.com</a> 사이트를 방문해 자신의 OS에 맞는 Light Table을 다운로드
받는다. 여기서는 lighttable-0.8.0-alpha-windows.zip 파일을 다운로드 받는 것으로 한다.</p>
</li>
<li>
<p>다운로드 받은 파일의 압축을 푼 후에, 자신이 원하는 폴더로 통쨰로 복사한다.</p>
</li>
<li>
<p>폴더 내의 LightTable.exe 파일을 더블클릭하면 Light Table이 실행된다.</p>
</li>
<li>
<p>Light Table이 실행된 후, [View - Commands] 메뉴를 선택한 후, 입력창에 `instarepl`을
입력한다. 이떄 아래에 나열된 명령어 목록들 중에서, `Instarepl: Open a clojure
instarepl`을 선택하면 REPL이 뜬다.</p>
</li>
<li>
<p>다음과 같은 화면이 뜨면 instarepl이 정상적으로 실행된 것이다.<br>
<span class="image"><img src="../img/light-table.png" alt="light table"></span></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_intellij">4.2. IntelliJ</h3>
<div class="paragraph">
<p>IntelliJ에 Cursive 플러그인을 추가하면 소스 브라우징, 리팩토링, 디버깅 등을 디폴트로 이용할 수 있어 편리하다.</p>
</div>
<div class="sect3">
<h4 id="_intellij_설치">4.2.1. IntelliJ 설치</h4>
<div class="paragraph">
<p><a href="https://www.jetbrains.com/idea/download/" class="bare">https://www.jetbrains.com/idea/download/</a> 에서 Community Edition을 다운받아 설치.</p>
</div>
</div>
<div class="sect3">
<h4 id="_cursive_플러그인_추가">4.2.2. Cursive 플러그인 추가</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://cursiveclojure.com/userguide/" class="bare">https://cursiveclojure.com/userguide/</a> 의 Manually installing Cursive 항목에서 IntelliJ 버전에 맞춘 zip파일 다운받는다. 지금은 <a href="https://cursiveclojure.com/cursive-14-0.1.50.zip" class="bare">https://cursiveclojure.com/cursive-14-0.1.50.zip</a> 를 받았다. Repositories로 설치하는 방법은 이 포스트를 작성하는 시점에는 작동하지 않았다.</p>
</li>
<li>
<p>IntelliJ를 실행하여 Configure, Plugins를 선택.<br>
<span class="image"><img src="../img/intellij-1.png" alt="intellij 1"></span></p>
</li>
<li>
<p>Install Plugin from disk&#8230;&#8203; 로 다운받은 zip 파일 선택하여 설치.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_프로젝트_가져오기">4.2.3. 프로젝트 가져오기</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>콘솔창에서 <code>lein new default first</code> 로 새 프로젝트를 만든다. IntelliJ는 프로젝트 단위로 관리되므로 클로저 파일 하나만으로는 실행이 불가능하다.</p>
</li>
<li>
<p>Import Project를 선택한 후, first 디렉토리의 project.clj를 선택한다.<br>
<span class="image"><img src="../img/intellij-2.png" alt="intellij 2"></span></p>
</li>
<li>
<p>계속 Next를 눌러 Import한다. 중간에 project SDK를 선택하는 곳에서 자신의 JDK를 선택한다. 만약 컴퓨터에 JDK가 없으면 설치해야 한다.<br>
<span class="image"><img src="../img/intellij-3.png" alt="intellij 3"></span></p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_환경_세팅">4.2.4. 환경 세팅</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>오른쪽 아래 <code>Structural: On</code> 클릭하여 <code>Structural: Off</code> 로 바꾼다. On 으로 되어 있으면 소스 편집이 불편하다.<br>
<span class="image"><img src="../img/intellij-4.png" alt="intellij 4"></span></p>
</li>
<li>
<p>View에서 Toolbar와 Tool Buttons를 선택하여 모두 보이도록 한다.</p>
</li>
<li>
<p>Run&#8594;Edit Configurations&#8230;&#8203; 선택. 왼쪽 위 + 버튼 누른다. Clojure REPL &#8594; Local 선택한다. OK 버튼 눌러 Clojure REPL 만든다. 그러면 다음처럼 실행할 수 있는 버튼이 생긴다.<br>
<span class="image"><img src="../img/intellij-5.png" alt="intellij 5"></span></p>
</li>
<li>
<p>REPL에 단축키가 설정되어 있어야 편리하다.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Setting&#8594;Appearance &amp; Behavior&#8594;KeyMap을 연다.</p>
</li>
<li>
<p>search box에 REPL을 쳐서 넣는다.</p>
</li>
<li>
<p><code>Load file in REPL</code> 에 <code>Alt + L</code> (맥은 <code>Command + L</code>) 단축키 세팅한다.</p>
</li>
<li>
<p><code>Run form before cursor in REPL</code> 에 <code>Alt + J</code> (맥은 <code>Command + J</code>) 단축키 세팅한다.</p>
</li>
<li>
<p><code>Run top form in REPL</code> 에 <code>Alt + K</code> (맥은 <code>Command + K</code>) 단축키 세팅한다.<br>
<span class="image"><img src="../img/intellij-6.png" alt="intellij 6"></span></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_실행">4.2.5. 실행</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>벌레모양의 Debug 버튼 눌러 REPL 실행한다.</p>
</li>
<li>
<p>REPL 입력창에 1 치고 Enter를 눌러 REPL이 작동함을 확인한다.<br>
<span class="image"><img src="../img/intellij-7.png" alt="intellij 7"></span></p>
</li>
<li>
<p>프로젝트 창에서 core.clj를 선택하여 연다.<br>
<span class="image"><img src="../img/intellij-8.png" alt="intellij 8"></span></p>
</li>
<li>
<p><code>(ns first.core)</code> 뒤로 커서를 옮긴 후 <code>Alt + J</code> (맥은 <code>Command + J</code>)를 눌러 평가한다. <code>(defn foo &#8230;&#8203;)</code> 뒤로 커서를 옮긴 후 <code>Alt + J</code> (맥은 <code>Command + J</code>)를 눌러 평가한다.<br>
<span class="image"><img src="../img/intellij-9.png" alt="intellij 9"></span></p>
</li>
<li>
<p><code>(foo "Cursive")`를 친 후 `Alt + J</code> (맥은 <code>Command + J</code>)를 눌러 평가한다. 그러면 REPL 창에 `Cursive Hello, World!`가 찍히는 것을 확인한다.<br>
<span class="image"><img src="../img/intellij-10.png" alt="intellij 10"></span></p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_추가_환경_세팅">4.2.6. 추가 환경 세팅</h4>
<div class="paragraph">
<p>필수는 아니지만 해두면 편리한 것들.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Tab키를 누를 때 indent가 자동으로 된다. 이를 위해서는 <a href="https://cursiveclojure.com/userguide/" class="bare">https://cursiveclojure.com/userguide/</a> 의 내용대로 따라한다.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Settings&#8594;Appearance &amp; Behavior&#8594;KeyMap을 연다.</p>
</li>
<li>
<p>search box에 tab을 쳐서 넣는다. 그러면 <code>Tab`과 `Emacs Tab</code> 옵션이 나온다.</p>
</li>
<li>
<p>`Tab`을 더블클릭한 후 Remove Tab을 선택한다.</p>
</li>
<li>
<p>`Emacs Tab`을 더블클릭한 후 Add Keyboard Shortcut을 선택한다.</p>
</li>
<li>
<p>Tab키를 눌러 First Stroke에 Tab이 세팅되도록 한 후 OK를 누른다.</p>
</li>
<li>
<p>Warning 창이 나오면 Leave를 선택한다.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-12-28 19:43:34 KST
</div>
</div>
</body>
</html>