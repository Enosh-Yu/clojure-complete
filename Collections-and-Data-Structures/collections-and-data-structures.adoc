= Collections and data structure
:source-highlighter: coderay
:source-language: clojure
:sectnums:
:icons: font
:imagesdir: ../img
:linkcss:
:stylesdir: ../
:stylesheet: my-asciidoctor.css

== Collections

클로저는 4개의 컬렉션을 제공한다 : 리스트, 벡터, 맵, 집합.

클로저의 컬렉션은 다음과 같은 특징을 갖는다.

.클로저 컬렉션의 특징
* 불변값이다(Immutable)
* 존속적이다(Persistent)
* 구조적 공유(Structural Sharing)
* 동등비교는 값으로만 한다.
* hash 값을 제공한다.
* 스레드 안전하다(thread-safe)
* 추상(Abstraction)으로 표현된다.
* java.lang.Iterable을 구현한다.
* java.util.Collection의 일부 read-only 부분을 구현한다.



[cols="^.^,v,v,v,v", options="header"]
|===

|        ^|리스트 ^|벡터 ^|맵 ^|집합

|리터럴    | '(1 2 3) | [1 2 3] | {:a 1 :b 2} | #{1 2 3}

|생성함수
|(list 1 2 3)
;=> (1 2 3)
|(vector 1 2 3)
;=> [1 2 3]
|(hash-map :a 1 :b 2)
;=> {:a 1 :b 2}
|(hash-set 1 2 3)
;=> #{1 2 3}

|cons
|(cons 0 '(1 2 3))
;=> (0 1 2 3)
|(cons 0 [1 2 3])
;=> (0 1 2 3)
|(cons [:c 3] {:a 1 :b 2})
;=> ([:c 3] [:a 1] [:b 2])
|(cons 0 #{1 2 3})
;=> (0 1 2 3)

|conj
|(conj '(1 2 3) 0)
;=> (0 1 2 3)
|(conj [1 2 3] 0)
;=> [1 2 3 0]
|(conj {:a 1 :b 2} [:c 0])
;=> {:c 3 :a 1 :b 2}
|(conj #{1 2 3} 0)
;=> #{0 1 2 3}

|===



=== 리스트

리스트는 클로저에서 핵심이 되는 순차 접근 컬렉션이다.

==== 리스트 리터럴

리스트는 인용기호를 앞에 붙인 괄호 '()로 둘러싸서 만든다.

[listing]
----
'(1 2 3 4)
;=> (1 2 3 4)
----

클로저의 리스트의 요소에는 다양한 타입의 값들이 올 수 있다.

[listing]
----
'(1 :a \a "a" 1.1 1/2)
;=> (1 :a \a "a" 1.1 1/2)
----


==== 리스트 만들기

list 함수로 리스트를 만들수 있다.

[listing]
----
(list 1 2 3 4)
;=> (1 2 3 4)
----

cons는 기존 리스트의 처음에 원소를 추가해서 새 리스트를 만든다.

[listing]
----
(cons 0 '(1 2 3 4))
;=> (0 1 2 3 4)

(cons '(0) '(1 2 3 4))
;=> ((0) 1 2 3 4)
----

conj도 기존 리스트의 처음에 원소를 추가해서 새 리스트를 만든다. +
그러나 파라미터의 순서가 다르다.

[listing]
----
(conj '(1 2 3 4) 0)
;=> (0 1 3 4)
----
